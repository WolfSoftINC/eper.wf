
class Product{static gl(id,category,data){var url='product/list';var str='';str+='gl=1';if(data['shop_id']){str+='&shop_id='+data['shop_id'];}
$.ajax({url:url,type:'POST',data:str,contentType:'application/x-www-form-urlencoded; charset=UTF-8',success:function(list){list=JSON.parse(list);list.forEach(function(data){var row=Product.row(data);$('#'+id).append(row);});}});}
static row(data){var row=$('<div/>',{class:'product__row',});var cover=$('<div/>',{class:'product__cover',});row.append(cover);var src='/img/product/'+data['product_id']+'.'+data['img'];var img=$('<img/>',{src:src,alt:'',class:'product__img',});cover.append(img);var info=$('<div/>',{class:'product__info',});row.append(info);var title=$('<a/>',{href:'/product='+data['product_id'],class:'product__title',text:data['name'],});info.append(title);var price=$('<span/>',{class:'product__price',text:data['price']+'с',});info.append(price);var footer=$('<div/>',{class:'product__footer',});row.append(footer);var button=$('<a/>',{class:'product__button',text:'Добавить',onClick:'Box.add('+data['product_id']+');',});button.attr('data-product',data['product_id']);footer.append(button);return row;}}